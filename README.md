# Kanada 音乐播放器：畅享极致本地音乐体验

![Android版下载](https://img.shields.io/badge/Android-v1.0.0-blue?logo=android)

[简体中文](README.md) | [English](README_EN.md)

## 概述
Kanada 音乐播放器是一款专为 Android 设备深度定制的本地音乐播放器。秉持简洁易用的设计哲学，它为用户呈上了丰富且卓越的音乐播放体验。无论你钟情于在闲暇时光沉浸于舒缓旋律，还是在运动时刻感受激昂节奏，Kanada 都能精准契合你的需求。它不仅对常见音频格式提供全面支持，更具备强大的歌词显示功能与智能控制特性，引领你全身心沉醉于音乐的奇妙世界。

## 主要功能

### 🎧 多样化音乐播放体验
- **广泛的音频格式支持**：Kanada 无缝兼容 MP3、FLAC 等常见音频格式。无论你珍藏的是高品质无损音乐，还是经典的 MP3 歌曲，皆能在本播放器中实现流畅播放，确保你不会与任何一首喜爱的音乐失之交臂。
- **便捷的播放列表管理**：你能够轻松自如地创建与管理个人播放列表。依据不同心情、场景或音乐风格，将心仪歌曲归类至不同列表。无论是打造一份适合工作时聆听的专注歌单，还是组建一个用于聚会的欢乐歌单，均可随心所欲。
- **丰富的播放模式选择**：提供三种独具特色的播放模式。单曲循环让你得以反复品味某首歌曲的独特韵味；列表循环助你完整领略整个播放列表的魅力；随机播放则为你带来无尽惊喜，每次播放顺序皆不相同，助你持续发掘新的音乐亮点。

### 📖 卓越的歌词体验
- **实时滚动同步**：歌词会伴随歌曲播放实时滚动，使你能够准确跟唱每一句歌词。无论是在演唱会上与歌手一同高歌，还是在家中独自畅享音乐，实时同步的歌词都能助力你更好地沉浸于音乐情感之中。
- **外接歌词显示器支持**：若你渴望更独特的歌词显示体验，Kanada 支持外接歌词显示器（需配合相关软件）。通过连接外部设备，你可在更大屏幕上清晰查看歌词，显著提升视觉享受。

### ⚡ 智能便捷的控制功能
- **静音自动暂停**：当你将设备调至静音模式，Kanada 会自动暂停音乐播放，避免在无需音乐时浪费电量或打扰他人。再次开启声音后，简单操作即可继续播放，便捷无比。
- **耳机拔出自动暂停**：使用耳机聆听音乐时，若不小心拔出耳机，播放器会自动暂停播放，防止音乐外放造成尴尬或打扰他人，同时避免因遗忘暂停而浪费电量。
- **网易云音乐歌单自动识别**：Kanada 支持自动识别网易云音乐歌单，你可直接将网易云歌单导入播放器，无需手动逐首添加歌曲，极大节省时间，助你迅速拥有心仪的音乐列表。

## 下载安装

### 正式版安装步骤
1. **下载 APK 文件**：[点击下载最新 APK](https://github.com/xiaocaoooo/Kanada/releases/latest/download/app-release.apk)。请确保你的设备连接稳定网络，以保障文件顺利下载。
2. **开启未知来源应用安装权限**：打开手机「设置」->「安全」，在该页面找到并开启「未知来源应用安装」选项。因从非应用商店下载的应用需额外权限方可安装。
3. **安装应用**：在手机文件管理器中找到下载的 APK 文件，点击进行安装。安装过程可能需时，请耐心等待。安装完成后，你可在主屏幕或应用列表中找到 Kanada 音乐播放器图标，点击即可开启应用。

## 使用指南

### 1. 导入音乐
- **文件夹添加**：打开 APP 后，点击进入「设置」页面，找到「文件夹设置」选项。点击此选项，选择添加本地音乐文件夹，播放器会自动扫描该文件夹内的所有音乐文件，并将其添加至音乐库。
- **网易云音乐歌单导入**：同样在「文件夹设置」页面，若你有网易云音乐歌单需导入，只需按提示输入歌单相关信息，播放器会自动识别并将歌单中的歌曲添加到音乐库。

### 2. 播放控制
- **开始播放**：在音乐库中找到你想播放的歌曲，点击即可开始播放。播放器会迅速加载歌曲并开启播放，同时显示歌曲封面、标题、艺术家等信息。
- **调节播放进度**：在播放界面，你可通过滑动进度条调节歌曲播放进度。向左滑动可快退，向右滑动可快进，便于找到心仪的歌曲片段。

### 3. 歌词显示
- **进入歌词界面**：在播放页面，向左滑动屏幕即可进入歌词界面。歌词界面将以简洁美观的方式呈现歌词内容，并根据歌曲播放进度实时滚动。
- **字体大小调节**：在歌词界面，你可通过相关设置选项调节歌词字体大小，以契合个人喜好与视觉需求。

## 常见问题解答

### ❓ 为什么找不到我的音乐文件？
👉 这可能是因为播放器未获得「存储空间访问权限」。你需前往手机设置中的应用管理或权限管理选项，找到 Kanada 音乐播放器并授予其「存储空间访问权限」。授予权限后，重新打开播放器，它会再次扫描本地音乐文件，届时应可找到你的音乐。

### ❓ 如何连接外部歌词显示器？
👉 要连接外部歌词显示器，你需安装配套的「Lyric-Getter」应用。可通过 [Github 下载](https://github.com/xiaowine/Lyric-Getter/releases/latest) 该应用。安装完成后，依照「Lyric-Getter」应用说明进行设置，将其与 Kanada 音乐播放器连接。连接成功后，即可在外部歌词显示器上查看同步歌词。

### ❓ 导入网易云歌单失败怎么办？
👉 首先，请确保你的网络连接稳定。若网络正常，检查输入的歌单信息是否准确。若问题依旧存在，可能是网易云接口出现问题或歌单设置了隐私权限，你可以稍后再试或更换其他歌单进行导入。

### ❓ 播放过程中出现卡顿现象怎么解决？
👉 卡顿可能是由于设备性能不足或音乐文件损坏导致的。你可以尝试关闭其他正在运行的应用程序，释放设备资源。如果问题仍然存在，检查音乐文件是否完整，尝试重新下载或更换其他音乐文件进行播放。

## 开源声明
本应用基于 [GPLv3 协议](LICENSE) 开源，这意味着用户可自由使用、修改和分享这款应用。我们热忱欢迎开发者参与项目开发，携手完善和优化 Kanada 音乐播放器。同时，正式版不包含任何广告和付费内容，为你营造一个纯净、无干扰的音乐播放环境。

## 贡献与反馈
若你在使用过程中发现任何问题，或有建议与想法，欢迎通过以下方式反馈给我们：
- 在 [GitHub 仓库](https://github.com/xiaocaoooo/Kanada) 中提交 Issues，详细描述问题或建议。
- 直接参与代码贡献，提交 Pull Requests，助力我们改进代码与功能。

我们高度重视用户反馈，会竭尽全力为大家提供更优质的音乐播放体验。感谢你选择 Kanada 音乐播放器，让我们一同畅享音乐的美好！

## 技术架构与依赖说明
### 技术架构
Kanada 音乐播放器采用了模块化的架构设计，主要分为以下几个核心模块：
- **播放模块**：负责音乐的播放、暂停、进度控制等基本操作，使用了 `just_audio` 库来实现音频的播放功能。
- **歌词模块**：实现歌词的匹配、同步显示和外接歌词显示器的支持，通过自定义的歌词解析器和 `kanada_lyric_sender` 插件来完成。
- **元数据模块**：负责获取音乐的元数据，如标题、艺术家、专辑封面等，通过 `Metadata` 类来实现。
- **设置模块**：管理用户的各种设置选项，如歌词显示、播放模式、音效设置等，使用 `Settings` 类来保存和读取设置信息。

### 主要依赖库
- `just_audio`：用于音频的播放和控制。
- `kanada_lyric_sender`：用于歌词的发送和同步。
- `http`：用于网络请求，如获取网易云音乐的歌单信息和歌词。
- `path_provider`：用于获取应用的存储路径，实现歌词和封面的缓存功能。

## 未来规划
- **增加更多音频格式支持**：计划支持更多小众但高质量的音频格式，如 APE、WAV 等，满足更多用户的需求。
- **优化歌词显示效果**：进一步提升歌词的显示效果，增加更多的动画和特效，让歌词显示更加生动。
- **支持更多在线音乐平台**：除了网易云音乐，未来还将支持其他在线音乐平台的歌单导入，如 QQ 音乐、酷狗音乐等。