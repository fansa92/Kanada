import 'package:flutter/material.dart';
import 'package:kanada/lyric.dart';

class LyricDebug extends StatefulWidget {
  const LyricDebug({super.key});

  @override
  State<LyricDebug> createState() => _LyricDebugState();
}

class _LyricDebugState extends State<LyricDebug> {
  Lyrics lyrics = Lyrics('');

  @override
  void initState() {
    super.initState();
    _init();
  }

  Future<void> _init() async {
    lyrics = Lyrics(
      '[ti:千本桜 (千本樱)]\n[ar:初音ミク (初音未来)]\n[al:EXIT TUNES PRESENTS Vocalodream (ボカロドリーム) feat. 初音ミク]\n[offset:0]\n\n[00:00.00]<00:00.00>千<00:00.46>本<00:00.93>桜<00:01.40> <00:01.86>(<00:02.32>千<00:02.79>本<00:03.26>樱<00:03.72>)<00:04.18> <00:04.65>-<00:05.12> <00:05.58>初<00:06.04>音<00:06.51>ミ<00:06.98>ク<00:07.44> <00:07.90>(<00:08.37>初<00:08.84>音<00:09.30>未<00:09.76>来<00:10.23>)<00:10.70>\n[00:10.70]<00:10.70>词<00:12.48>：<00:14.27>黒<00:16.06>う<00:17.84>さ<00:19.62>P<00:21.41>\n[00:21.41]<00:21.41>曲<00:23.19>：<00:24.98>黒<00:26.76>う<00:28.54>さ<00:30.32>P<00:32.11>\n[00:32.12]<00:32.12>大<00:32.31>胆<00:32.68>不<00:33.09>敵<00:33.28>に<00:33.46>ハ<00:33.80>イ<00:34.23>カ<00:34.39>ラ<00:34.56>革<00:34.73>命<00:34.99>\n[00:34.98]英勇无畏 维新革命<00:34.98>\n[00:34.99]<00:34.99>磊<00:35.36>々<00:35.80>落<00:36.17>々<00:36.57>反<00:36.94>戦<00:37.35>国<00:37.71>家<00:37.90>\n[00:38.16]光明磊落反战国家<00:38.16>\n[00:38.17]<00:38.17>日<00:38.58>の<00:38.97>丸<00:39.26>印<00:39.43>の<00:39.71>二<00:40.02>輪<00:40.36>車<00:40.54>転<00:40.82>が<00:41.00>し<00:41.18>\n[00:41.37]乘着有日之丸印记的二轮车<00:41.37>\n[00:41.38]<00:41.38>悪<00:41.74>霊<00:42.06>退<00:42.40>散<00:42.77>\n[00:42.76]恶灵退散 <00:42.76>\n[00:42.77]<00:42.77>Icbm<00:44.03>\n[00:44.41]<00:44.41>環<00:44.76>状<00:45.08>線<00:45.46>を<00:45.87>走<00:46.02>り<00:46.20>抜<00:46.36>け<00:46.65>て<00:47.07>\n[00:47.42]疾行穿过环状线<00:47.42>\n[00:47.43]<00:47.43>東<00:47.83>奔<00:48.22>西<00:48.61>走<00:49.00>な<00:49.16>ん<00:49.32>の<00:49.65>そ<00:49.82>の<00:50.21>\n[00:50.55]东奔西走 在所不辞<00:50.55>\n[00:50.56]<00:50.56>少<00:50.93>年<00:51.30>少<00:51.68>女<00:52.09>戦<00:52.45>国<00:52.61>無<00:52.88>双<00:53.25>\n[00:53.63]少年少女 战国无双<00:53.63>\n[00:53.64]<00:53.64>浮<00:53.78>世<00:53.95>の<00:54.29>随<00:55.26>に<00:56.16>\n[00:56.48]尘世若梦 唯有随之沉浮<00:56.48>\n[00:56.49]<00:56.49>千<00:56.85>本<00:57.15>桜<00:58.19>夜<00:58.57>ニ<00:58.76>紛<00:59.12>レ<00:59.47>\n[00:59.66]千本樱 夜中飞散<00:59.66>\n[00:59.67]<00:59.67>君<00:59.83>ノ<01:00.22>声<01:00.65>モ<01:01.39>届<01:01.76>カ<01:01.92>ナ<01:02.07>イ<01:02.26>ヨ<01:02.46>\n[01:02.68]你的声音 亦无法传达<01:02.68>\n[01:02.69]<01:02.69>此<01:02.92>処<01:03.08>は<01:03.36>宴<01:04.58>鋼<01:04.92>の<01:05.32>檻<01:05.51>\n[01:05.75]铁牢之中 宴请众人<01:05.75>\n[01:05.76]<01:05.76>そ<01:05.92>の<01:06.18>断<01:06.49>頭<01:06.88>台<01:07.27>で<01:07.69>見<01:07.86>下<01:08.03>ろ<01:08.27>し<01:08.52>て<01:08.82>\n[01:08.81]断头台上俯视众生<01:08.81>\n[01:08.82]<01:08.82>三<01:09.18>千<01:09.60>世<01:10.00>界<01:10.76>常<01:11.06>世<01:11.29>之<01:11.59>闇<01:11.78>\n[01:12.04]大千世界 桃园之暗<01:12.04>\n[01:12.05]<01:12.05>嘆<01:12.41>ク<01:13.00>唄<01:13.21>モ<01:13.87>聞<01:14.03>コ<01:14.19>エ<01:14.35>ナ<01:14.50>イ<01:14.70>ヨ<01:14.87>\n[01:15.12]悲叹之曲 亦不可听闻<01:15.12>\n[01:15.13]<01:15.13>青<01:15.55>藍<01:15.88>の<01:16.05>空<01:16.97>遥<01:17.22>か<01:17.49>彼<01:17.81>方<01:18.04>\n[01:18.25]那青蓝苍穹的遥远彼方<01:18.25>\n[01:18.26]<01:18.26>そ<01:18.42>の<01:18.61>光<01:18.92>線<01:19.32>銃<01:19.70>で<01:20.11>打<01:20.28>ち<01:20.46>抜<01:20.64>い<01:20.89>て<01:21.76>\n[01:34.27]就以那光线枪击穿吧<01:34.27>\n[01:34.28]<01:34.28>百<01:34.61>戦<01:35.01>錬<01:35.37>磨<01:35.61>の<01:35.84>見<01:36.05>た<01:36.31>目<01:36.50>は<01:36.67>将<01:36.97>校<01:37.15>\n[01:37.39]百战磨练 似是将校之人<01:37.39>\n[01:37.40]<01:37.40>い<01:37.64>っ<01:37.81>た<01:37.96>り<01:38.17>き<01:38.40>た<01:38.57>り<01:38.72>の<01:38.94>花<01:39.26>魁<01:39.64>道<01:39.98>中<01:40.16>\n[01:40.47]人来人往的花魁道中<01:40.47>\n[01:40.48]<01:40.48>ア<01:40.64>イ<01:40.79>ツ<01:40.94>も<01:41.19>コ<01:41.44>イ<01:41.59>ツ<01:41.73>も<01:41.94>皆<01:42.61>で<01:42.80>集<01:43.03>ま<01:43.23>れ<01:43.60>\n[01:43.59]无论是谁 全都集结起来<01:43.59>\n[01:43.60]<01:43.60>聖<01:43.76>者<01:43.92>の<01:44.28>行<01:44.69>進<01:45.04>\n[01:45.03]圣者行进  <01:45.03>\n[01:45.04]<01:45.04>わ<01:45.19>ん<01:45.33>っ<01:45.51>つ<01:45.82>ー<01:45.97>さ<01:46.11>ん<01:46.29>し<01:46.43>っ<01:46.69>\n[01:46.68]一二三四<01:46.68>\n[01:46.69]<01:46.69>禅<01:47.06>定<01:47.42>門<01:47.83>を<01:48.25>潜<01:48.42>り<01:48.60>抜<01:48.77>け<01:48.99>て<01:49.39>\n[01:49.75]从佛门之地中穿过<01:49.75>\n[01:49.76]<01:49.76>安<01:50.17>楽<01:50.57>浄<01:51.39>土<01:51.65>厄<01:51.83>払<01:52.13>い<01:52.50>\n[01:52.98]安乐净土 消灾除厄<01:52.98>\n[01:52.99]<01:52.99>き<01:53.14>っ<01:53.29>と<01:53.64>終<01:54.03>幕<01:54.46>は<01:54.63>大<01:54.84>団<01:55.22>円<01:55.56>\n[01:55.77]终焉之幕定是大团圆<01:55.77>\n[01:55.78]<01:55.78>拍<01:55.96>手<01:56.26>の<01:56.68>合<01:57.12>間<01:57.53>に<01:58.42>\n[01:58.82]在一片掌声之中<01:58.82>\n[01:58.83]<01:58.83>千<01:59.19>本<01:59.52>桜<02:00.57>夜<02:00.95>ニ<02:01.16>紛<02:01.52>レ<02:01.84>\n[02:01.90]千本樱 夜中飞散<02:01.90>\n[02:01.91]<02:01.91>君<02:02.25>ノ<02:02.56>声<02:02.98>モ<02:03.74>届<02:03.96>カ<02:04.15>ナ<02:04.31>イ<02:04.54>ヨ<02:04.75>\n[02:05.00]你的声音 亦传达不到<02:05.00>\n[02:05.01]<02:05.01>此<02:05.22>処<02:05.38>は<02:05.58>宴<02:06.84>鋼<02:07.26>の<02:07.68>檻<02:07.96>\n[02:08.13]铁牢之中 宴请众人<02:08.13>\n[02:08.14]<02:08.14>そ<02:08.30>の<02:08.48>断<02:08.82>頭<02:09.22>台<02:09.58>で<02:10.00>見<02:10.18>下<02:10.36>ろ<02:10.58>し<02:10.82>て<02:11.12>\n[02:11.35]断头台上 俯视众生<02:11.35>\n[02:11.36]<02:11.36>三<02:11.54>千<02:11.92>世<02:12.36>界<02:13.10>常<02:13.50>世<02:13.68>之<02:13.92>闇<02:14.10>\n[02:14.43]大千世界 桃园之暗<02:14.43>\n[02:14.44]<02:14.44>嘆<02:14.70>ク<02:15.04>唄<02:15.48>モ<02:16.22>聞<02:16.40>コ<02:16.54>エ<02:16.72>ナ<02:16.86>イ<02:17.04>ヨ<02:17.24>\n[02:17.47]悲叹之曲 亦不可听闻<02:17.47>\n[02:17.48]<02:17.48>希<02:17.68>望<02:18.06>の<02:18.38>丘<02:19.34>遥<02:19.50>か<02:19.66>彼<02:20.12>方<02:20.55>\n[02:20.54]朝着希望之丘遥远彼方<02:20.54>\n[02:20.55]<02:20.55>そ<02:20.72>の<02:21.02>閃<02:21.35>光<02:21.71>弾<02:22.08>を<02:22.49>打<02:22.67>ち<02:22.87>上<02:23.06>げ<02:23.28>ろ<02:23.63>\n[02:55.29]将那闪光弹射上天空 <02:55.29>\n[02:55.30]<02:55.30>環<02:55.59>状<02:55.99>線<02:56.36>を<02:56.76>走<02:56.94>り<02:57.11>抜<02:57.27>け<02:57.56>て<02:57.95>\n[02:58.30]疾行穿过环状线<02:58.30>\n[02:58.31]<02:58.31>東<02:58.70>奔<02:59.12>西<02:59.49>走<02:59.94>な<03:00.24>ん<03:00.41>の<03:00.57>そ<03:00.72>の<03:01.13>\n[03:01.46]东奔西走 在所不辞<03:01.46>\n[03:01.47]<03:01.47>少<03:01.81>年<03:02.20>少<03:02.57>女<03:03.02>戦<03:03.19>国<03:03.39>無<03:03.73>双<03:04.11>\n[03:04.50]少年少女 战国无双<03:04.50>\n[03:04.51]<03:04.51>浮<03:04.68>世<03:04.83>の<03:05.18>随<03:06.16>に<03:07.01>\n[03:07.37]尘世若梦 唯有随之沉浮<03:07.37>\n[03:07.38]<03:07.38>千<03:07.74>本<03:08.04>桜<03:09.12>夜<03:09.51>ニ<03:09.71>紛<03:10.12>レ<03:10.46>\n[03:10.47]千本樱 夜中飞散<03:10.47>\n[03:10.48]<03:10.48>君<03:10.86>ノ<03:11.20>声<03:11.60>モ<03:12.31>届<03:12.49>カ<03:12.66>ナ<03:12.83>イ<03:13.11>ヨ<03:13.27>\n[03:13.57]你的声音 亦传达不到<03:13.57>\n[03:13.58]<03:13.58>此<03:13.77>処<03:13.97>は<03:14.28>宴<03:15.45>鋼<03:15.63>の<03:15.91>檻<03:16.67>\n[03:16.66]铁牢之中 宴请众人<03:16.66>\n[03:16.67]<03:16.67>そ<03:16.80>の<03:17.06>断<03:17.40>頭<03:17.76>台<03:18.18>を<03:18.61>飛<03:18.77>び<03:18.97>降<03:19.16>り<03:19.40>て<03:19.69>\n[03:19.84]自那断头台上跳下 <03:19.84>\n[03:19.85]<03:19.85>千<03:20.21>本<03:20.46>桜<03:21.57>夜<03:21.94>ニ<03:22.13>紛<03:22.47>レ<03:22.69>\n[03:22.94]千本樱 夜中飞散<03:22.94>\n[03:22.95]<03:22.95>君<03:23.31>が<03:23.62>歌<03:24.04>い<03:24.76>僕<03:24.95>は<03:25.18>踊<03:25.58>る<03:25.74>\n[03:25.00]你放声歌唱 我翩翩起舞<03:25.00>\n[03:26.00]<03:26.00>此<03:26.18>処<03:26.39>は<03:26.72>宴<03:27.90>鋼<03:28.30>の<03:28.69>檻<03:28.88>\n[03:29.13]铁牢之中 宴请众人<03:29.13>\n[03:29.14]<03:29.14>さ<03:29.29>あ<03:29.54>光<03:29.84>線<03:30.25>銃<03:30.64>を<03:31.07>撃<03:31.23>ち<03:31.44>ま<03:31.62>く<03:31.87>れ<03:32.73>\n[03:32.73]全力扣响光线枪的扳机吧<03:32.73>',
    );
    lyrics.parse().then((value) {
      setState(() {});
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: const Text('Lyric Debug')),
      body: ListView(children: lyrics.lyrics!.map((lyric){
        return Text(lyric.toString());
      }).toList()),
    );
  }
}
